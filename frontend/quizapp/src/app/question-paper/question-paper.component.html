
<div style ="margin-left: 5px;">
<div class="container">
  <div class="row">
    <div class = "col-sm-10">


          <label>Title of the question paper:</label>
          <input type="text" class ="form-control" [(ngModel)]="title">

          <br />
          <div class="row">
         <div class ="col-sm-2"><label>Section name</label></div>
          <div class ="col-sm-3">
          <input type ="text" class="form-control" [(ngModel)]="section_name">
          </div>




            <div class ="col-sm-3">


                    <!-- Trigger the modal with a button -->
                    <button type="button" class="btn btn-info" data-toggle="modal" data-target="#myModal">Add questions</button>

                    <!-- Modal -->
                    <div class="modal fade" id="myModal" role="dialog">
                      <div class="modal-dialog">

                        <!-- Modal content-->
                        <div class="modal-content">
                          <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal">&times;</button>
                            <h4 class="modal-title">Select the questions</h4>
                          </div>
                          <div class="modal-body">







                              <div class="panel panel-success">
                                  <div class="panel-heading">

                                      <div class="row">

                                            <br>
                                                <div class="col-sm-4">
                                                        <label>#Questions per page</label>
                                                        <select name="no_pages" [(ngModel)]="nofpages" (change)="selected(nofpages)" class="form-control" >
                                                        <option value="1">1</option>
                                                        <option value="2" selected="true">2</option>
                                                        <option value="3">3</option>
                                                        </select>
                                                </div>

                                                <div class="col-sm-4">
                                                        <label>Search questions:</label>
                                                        <input type="text" placeholder="keyword or domain" [(ngModel)]="value_of_sk" name="value_of_sk" class="form-control">
                                                </div>

                                                <div class="col-sm-4">
                                                        <br>
                                                        <button type="button" (click)="searchQuery(value_of_sk)" class="btn btn-primary">Search</button>
                                                </div>
                                        </div>
                                        </div>

                                <br>
                                <br>
                                        <div class="panel-body">
                                <div class="row" >
                                    <div  *ngFor='let q of questions | paginate: { itemsPerPage: nofpages, currentPage: p }'>

                                                    <div class="row">

                                                      <div class="col-sm-6">
                                                          <table>
                                                            <tr>


                                                         <td> <button style="background-color: cornflowerblue;color: white;margin-left: 10px" type="button" (click)="collapse(q)" id="{{q}}">+</button></td>
                                                    <td>  {{q.title}}</td>

                                                    </tr>
                                                    </table>
                                                      </div>


                                                       <!-- <div class="col-sm-2">
                                                       <label> Marks</label>
                                                        <input type="text" name="q.marks" [(ngModel)]="q.marks" class="form-control input-sm">
                                                           </div>-->


                               <div class="col-sm-3">
                                  <br>
                             <input type="checkbox" name="title" value="{{q}}" class="form-control input-sm" [(ngModel)]="q.checked" (change)="saveQuestions(q,q.checked)">
                                 </div>

                                                    </div>

                                                <div class="row">

                                                        <div [ngClass]="{'collapse-question': q.collapse_flag == false}">
                                                            <ul>
                                                              <div *ngFor='let o of q.options'>
                                                                  <li>{{o.option_no}}. &nbsp;{{o.content}}</li>
                                                              </div>
                                                            </ul>
                                                        </div>
                                                  </div>

                                      </div>
                                </div>
                                </div>

                                <div class="row">
                                    <pagination-controls (pageChange)="p = $event"></pagination-controls>
                                  </div>
                              </div>




                          </div>
                          <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Save and Close</button>
                          </div>
                        </div>

                      </div>
                    </div>






              </div>

              <div class="col-sm-3">
                  <button type="button" (click)="addToSections(section_name)" class="btn btn-danger">Create</button>
                    </div>
            </div>









    </div>


      <div class="col-sm-4">






      </div>
  </div>


  <div class = "row" *ngIf='temp_sections.length>0ss'>

  <div class = "col-md-10">

    <div *ngFor='let t of temp_sections'>

      <div class ="panel panel-default">

        <div class = "panel-heading">
          <label>{{t.name}}</label>
          </div>

          <div class ="panel-body">
            <ol>

              <div *ngFor='let ques of t.content'>
                <li>
                  <table>
                    <tr>
                      <td>{{ques.title}}</td>
                      <td><button type="button" class="btn btn-danger" (click)="removeQuestionFromSection(t.name,ques._id)">remove</button></td>
                      </tr>
                    </table>

                  </li>


              </div>

              </ol>

          </div>


      </div>
  </div>

  </div>













</div>

</div>


